rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /Artworks/{artworkId} {
  	  allow read : if true;
  	  allow create : if request.auth != null 
                        && request.auth.token.email == request.resource.data.email
                        && request.resource.data.like == 0
                        && request.resource.data.tmpLike == 0;
  	}
    match /Events/{eventId} {
  	  allow read : if true;
  	  allow update : if eventId in get(/databases/$(database)/documents/Members/$(request.auth.token.email)).data.admin;
  	}
    match /{document=**} {
      allow read, write: if false;
    }
  }
}